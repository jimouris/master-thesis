\begin{algorithm}[H]\fontfamily{lmss}
\caption{Naive Privacy Preserving 1D Histogram for Numerical Values}\label{a:1d-simple-histogram-numerical}
\begin{algorithmic}[1]
\renewcommand{\algorithmicrequire}{\textbf{Private Vars:}}
\Require ${\color{darkred}{array}}, {\color{darkred}{min}}, {\color{darkred}{max}}, {\color{darkred}{histogram}}, {\color{darkred}{cellWidth}}, {\color{darkred}{cell}}$

\Procedure{1DimSimpleHistogramNumerical}{${\color{darkred}{array}}[N], cells, {\color{darkred}{min}}, {\color{darkred}{max}}$}

    \State ${\color{darkred}{cellWidth}} \gets ({\color{darkred}{max}} \hminus {\color{darkred}{min}}) \hdiv cells $\Comment{\small{${\color{darkred}{cellWidth}}$ gets a float value}}\fixme{min, max and cellWidth should be public data.}

    \For{$i \in \{0, \dots, N-1\}$}

        \State ${\color{darkred}{cell}} \gets {\color{darkred}{array}}[i] \hdiv {\color{darkred}{cellWidth}}$\Comment{\small{${\color{darkred}{cell}}$ gets an encrypted value in range $[0, cells-1]$}}

        \For{$j \in \{0, \dots, cells-1\}$}

            \State ${\color{darkred}{histogram}}[j] \gets {\color{darkred}{histogram}}[j] \hplus ({\color{darkred}{cell}} \heq j)$\Comment{\small{Add ${\enc{1}}$ if ${\color{darkred}{cell}}$ is equal to $j$, ${\enc{0}}$ otherwise}}

        \EndFor
    \EndFor
    \State \textbf{return} {${\color{darkred}{histogram}}$}
\EndProcedure
\end{algorithmic}
\end{algorithm}
